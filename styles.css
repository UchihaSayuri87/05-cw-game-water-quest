/* Merged stylesheet: combines brand palette, layout, HUD, grid, drops, and overlays. */

/* Brand colors and variables */
:root{
  /* tuned to a charity: water inspired palette */
  --cw-yellow: #FFCA3A;        /* softer warm yellow */
  --cw-blue:   #00AEEF;        /* bright charity-like blue */
  --cw-dark:   #073b4c;        /* deep navy for type */
  --muted:     #f6fbff;        /* soft page tint */
  --card-bg:   #ffffff;
  --focus-ring: rgba(0,174,239,0.18);
  --elevation-1: 0 10px 30px rgba(2,6,23,0.06);
  --radius-lg: 12px;

  /* add a couple of responsive token fallbacks */
  --hero-title-size: clamp(22px, 5vw, 40px);
  --cell-min: 110px; /* base min cell size */
}

*{ box-sizing:border-box; }

body{
  /* use Montserrat as the main type, then fall back to the other requested families and system fonts */
  font-family: "Montserrat", "Poppins", "Open Sans", "Mulish", "Lato", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  margin:0;
  padding:18px;
  /* lighter backdrop, more like charity: water landing */
  background: linear-gradient(180deg, var(--muted) 0%, #ffffff 100%);
  color:var(--cw-dark);
  min-height:100vh;
  display:flex;
  flex-direction:column;
  align-items:center;
}

/* prefer Montserrat / Poppins for strong headings */
h1, .hero-title, .title-block h1 {
  font-family: "Montserrat", "Poppins", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
  font-weight: 700;
  letter-spacing: -0.01em;
}

/* slightly lighter body-weight mapping for paragraphs / UI */
body, p, .tagline, .score, .timer, .achievement {
  font-weight: 400;
}

/* Container: slightly tighter so brand and banner sit compactly */
.container {
  max-width: 980px;
  margin: 28px auto;
  background-color: #fff;
  padding: 14px;
  border-radius: 12px;
  /* reduce heavy shadows across UI for cleaner look */
  box-shadow: 0 8px 28px rgba(2,6,23,0.04);
  display: flex;
  flex-direction: column;
  gap: 10px;
}

/* Brand / header */
.brand-strip { display:flex; gap:12px; align-items:center; padding:8px 12px; }
.site-header{ display:flex; align-items:center; gap:1rem; justify-content:center; width:100%; padding:0 8px; }
.logo{ height:56px; width:auto; display:block; }

/* Banner / hero */
.banner-wrapper{
  padding:clamp(18px,6vw,48px); border-radius:var(--radius-lg);
  background: linear-gradient(180deg, var(--card-bg) 0%, #fbfdff 100%);
  display:flex; align-items:center; justify-content:center; flex-direction:column;
  box-shadow:var(--elevation-1); position:relative;
}
.banner-close{ position:absolute; right:12px; top:12px; width:44px; height:44px; border-radius:10px; border:none; background:rgba(255,255,255,0.95); cursor:pointer; display:inline-flex; align-items:center; justify-content:center; box-shadow:0 10px 26px rgba(2,6,23,0.08); }
.banner-hero{ max-width:740px; display:flex; flex-direction:column; gap:12px; align-items:center; text-align:center; padding:12px; }
.hero-icon { width:140px; height:140px; display:flex; align-items:center; justify-content:center; border-radius:18px; }
.hero-title { margin:0; color:var(--cw-blue); font-weight:900; font-size:clamp(28px,6vw,56px); line-height:1; letter-spacing:-0.02em; text-transform:uppercase; }

/* Play CTA */
.banner-play{
  background:var(--cw-blue); color:#fff; padding:14px 48px; border-radius:999px; font-weight:800;
  border:none; cursor:pointer; box-shadow:0 10px 30px rgba(0,174,239,0.14);
}
.banner-play:hover{ transform:translateY(-3px); box-shadow:0 18px 40px rgba(0,174,239,0.16); }

/* HUD */
.hud{ display:flex; gap:12px; align-items:center; justify-content:space-between; width:100%; }
.hud > div{ display:flex; gap:8px; align-items:center; }

/* HUD buttons */
.start-btn, .sound-btn { background:#fff; border:1px solid rgba(2,6,23,0.06); color:var(--cw-dark); box-shadow:0 6px 14px rgba(2,6,23,0.04); padding:10px 12px; border-radius:8px; cursor:pointer; }
.sound-btn[aria-pressed="true"]{ background:linear-gradient(180deg, rgba(2,43,60,0.12), rgba(2,43,60,0.06)); color:#fff; }

/* Game field and grid */
.game-field{ width:100%; max-width:820px; padding:18px; border-radius:12px; background:linear-gradient(180deg, rgba(46,157,247,0.04), rgba(46,157,247,0.01)); border:2px solid rgba(46,157,247,0.08); overflow:hidden; display:flex; align-items:center; justify-content:center; }
.game-grid{ width:min(720px,96%); display:grid; grid-template-columns:repeat(3, minmax(120px, 1fr)); gap:clamp(8px,1.6vw,16px); margin:6px auto; }

/* Make grid cells consistent squares so touch targets are predictable */
.grid-cell{
  position: relative;
  overflow: visible; /* allow wrappers to pop outside slightly */
  aspect-ratio: 1 / 1;         /* keep cells square */
  min-height: 120px;           /* fallback for browsers without aspect-ratio */
  padding: 8px;
  border-radius: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  outline: 1px solid rgba(2,6,23,0.04);
  cursor:pointer;
  transition:background-color 0.3s;

  /* Make grid cells easier to tap: breathing room, mobile touch handling */
  padding: 6px;
  touch-action: manipulation;
}

/* Water can visuals */
.water-can{ width:clamp(44px,9vw,64px); height:clamp(44px,9vw,64px); border-radius:6px; background-size:contain; background-repeat:no-repeat; background-position:center; box-shadow:0 6px 14px rgba(7,45,60,0.12); border:2px solid rgba(0,0,0,0.06); pointer-events:auto; transition:transform 220ms cubic-bezier(.2,.9,.2,1), box-shadow 180ms ease; }
.water-can.obstacle{ transform:scale(1.03); box-shadow:0 10px 28px rgba(245,64,44,0.18); border:2px solid rgba(245,64,44,0.18); background-color:rgba(245,64,44,0.06); animation:obstacle-pulse 1400ms ease-in-out infinite; }
.water-can.shake{ animation:can-shake 380ms ease; }

/* obstacle animations */
@keyframes obstacle-pulse { 0%{ transform:scale(1.02); box-shadow:0 8px 22px rgba(245,64,44,0.14);} 50%{ transform:scale(1.06); box-shadow:0 14px 36px rgba(245,64,44,0.18);} 100%{ transform:scale(1.02); box-shadow:0 8px 22px rgba(245,64,44,0.14);} }
@keyframes can-shake { 0%{transform:translateX(0) rotate(0);} 25%{transform:translateX(-6px) rotate(-6deg);} 50%{transform:translateX(6px) rotate(6deg);} 75%{transform:translateX(-4px) rotate(-4deg);} 100%{transform:translateX(0) rotate(0);} }

/* Drops (optional) */
.drop, .bad-drop{ position:absolute; top:-60px; width:44px; height:60px; border-radius:50% 50% 45% 45%; display:flex; align-items:center; justify-content:center; user-select:none; cursor:pointer; animation-name:fall; animation-timing-function:linear; }
.drop{ background:var(--cw-blue); box-shadow:inset -6px -10px 20px rgba(255,255,255,0.12); }
.bad-drop{ background:#6b4f3f; box-shadow:inset -6px -10px 14px rgba(255,255,255,0.05); }
@keyframes fall { to { transform: translateY(120vh); } }

/* Overlay / modals */
.overlay{ position:fixed; inset:0; display:flex; align-items:center; justify-content:center; background:rgba(0,0,0,0.45); z-index:40; padding:18px; box-sizing:border-box; }
.overlay .overlay-content{ background:#fff; padding:24px; border-radius:10px; max-width:680px; width:min(680px,92%); max-height:calc(100vh - 120px); overflow:auto; -webkit-overflow-scrolling:touch; box-shadow:0 8px 30px rgba(0,0,0,0.18); }
.overlay .overlay-content h2{ color:var(--cw-blue); margin:0 0 8px; }

/* CTA and misc */
.splash-btn{ background:transparent; color:var(--cw-blue); border:2px solid rgba(0,174,239,0.12); padding:10px 16px; border-radius:999px; font-weight:700; }
.splash-btn:hover{ background:rgba(0,174,239,0.06); transform:translateY(-2px); }

/* Accessibility & focus */
:focus{ outline:3px solid var(--focus-ring); outline-offset:4px; }

/* Responsive tweaks */
@media (max-width:800px){ .game-grid{ grid-template-columns:repeat(2, minmax(120px, 1fr)); } .hero-title{ font-size:28px; } }
@media (max-width:520px){ .hud{ flex-direction:column; gap:8px; align-items:stretch; } .banner-play{ padding:12px 36px; } .cta-wrap{ justify-content:center; } }