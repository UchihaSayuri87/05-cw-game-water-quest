/* Merged stylesheet: combines brand palette, layout, HUD, grid, drops, and overlays. */

/* Brand colors and variables */
:root{
  --cw-yellow: #FFC907;
  --cw-blue: #2E9DF7;
  --cw-light-blue: #8BD1CB;
  --cw-green: #4FCB53;
  --cw-orange: #FF902A;
  --cw-red: #F5402C;
  --cw-dark-green: #159A48;
  --cw-dark: #073b4c;
  --bg: #f7fbfd;
  --bad: #6b4f3f; /* dirty water */

  /* Accessible design tokens (keeps charity: water palette) */
  --focus-ring: rgba(255,201,7,0.24);   /* yellow focus ring */
  --elevation-1: 0 6px 18px rgba(2,6,23,0.08);
  --radius-lg: 12px;

  /* add a couple of responsive token fallbacks */
  --hero-title-size: clamp(22px, 5vw, 40px);
  --cell-min: 110px; /* base min cell size */
}

*{ box-sizing:border-box; }

body{
  /* use Montserrat as the main type, then fall back to the other requested families and system fonts */
  font-family: "Montserrat", "Poppins", "Open Sans", "Mulish", "Lato", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  margin:0;
  padding:18px;
  background: linear-gradient(180deg, var(--bg) 0%, #eaf6ff 100%);
  color:var(--cw-dark);
  min-height:100vh;
  display:flex;
  flex-direction:column;
  align-items:center;
}

/* prefer Montserrat / Poppins for strong headings */
h1, .hero-title, .title-block h1 {
  font-family: "Montserrat", "Poppins", system-ui, -apple-system, "Segoe UI", Roboto, Arial, sans-serif;
  font-weight: 700;
  letter-spacing: -0.01em;
}

/* slightly lighter body-weight mapping for paragraphs / UI */
body, p, .tagline, .score, .timer, .achievement {
  font-weight: 400;
}

/* Container: slightly tighter so brand and banner sit compactly */
.container {
  max-width: 980px;
  margin: 28px auto;
  background-color: #fff;
  padding: 14px;
  border-radius: 12px;
  box-shadow: 0 18px 46px rgba(2,6,23,0.06);
  display: flex;
  flex-direction: column;
  gap: 10px;
}

/* Banner sits flush at top of the card with rounded top corners */
.banner-wrapper {
  /* make the banner feel like a large hero while keeping it inside the card */
  padding: clamp(18px, 6vw, 48px);
  border-radius: 12px;
  box-shadow: 0 18px 46px rgba(2,6,23,0.06);
  background: linear-gradient(180deg, var(--cw-yellow) 0%, color-mix(in srgb, var(--cw-yellow) 85%, #fff 15%) 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
}

/* ensure banner wrapper can contain an absolutely-positioned close button */
.banner-wrapper {
  position: relative;
}

/* banner close button (small, high-contrast tappable target) */
.banner-close {
  position: absolute;
  right: 12px;
  top: 12px;
  z-index: 120;
  width: 44px;
  height: 44px;
  border-radius: 10px;
  border: none;
  background: rgba(255,255,255,0.95);
  box-shadow: 0 10px 26px rgba(2,6,23,0.08);
  font-size: 18px;
  line-height: 1;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
}

/* Make the game-wrap sit nicely inside the card */
.game-wrap{
  width:100%;
  max-width:880px;
  margin: 8px auto 0;
  padding: 6px 0;
}

/* game-field constrained for better visual balance on large screens */
.game-field{
  position:relative;
  width: 100%;
  max-width: 820px;
  height: 56vh;
  min-height:320px;
  margin: 12px auto;

  /* increased padding so the playable area has breathing room */
  padding: 18px;
  display: flex;
  align-items: center;       /* center grid vertically */
  justify-content: center;   /* center grid horizontally */

  background: linear-gradient(180deg, rgba(46,157,247,0.04), rgba(46,157,247,0.01));
  border-radius:12px;
  overflow:hidden;
  border: 2px solid rgba(46,157,247,0.08);
}

/* HUD: give controls a compact layout and keep score/timer visible */
.hud {
  display:flex;
  gap:12px;
  align-items:center;
  justify-content:space-between;
  width:100%;
  /* make room when controls added */
}

/* small HUD controls (reset + difficulty select) */
.hud > div {
  display:flex;
  gap:8px;
  align-items:center;
}

/* Header / branding */
.site-header{
  display:flex;
  align-items:center;
  gap:1rem;
  width:100%;
  justify-content: center;
  max-width:980px;
  box-sizing: border-box;
  padding: 0 8px;
}
.logo{ height:56px; width:auto; display:block; flex-shrink:0; }
.title-block h1{ margin:0; font-size:1.5rem; color:var(--cw-dark); }
.tagline{ margin:0; color:#06638b; font-size:0.95rem; }

/* Make the original header visible inside the hero and style it for the yellow banner */
.banner-hero .site-header .logo {
  height: 48px;
  width: auto;
  display: block;
}

/* Make the title and tagline readable on the yellow hero */
.banner-hero .title-block h1 {
  margin: 0;
  font-size: 1.2rem;
  color: #072b3a; /* choose dark for contrast against yellow */
  font-weight: 800;
}
.banner-hero .title-block .tagline {
  margin: 0;
  color: rgba(7,43,58,0.9);
  font-size: 0.95rem;
}

/* Basic headings */
h1 { text-align:center; font-size:30px; font-weight:bold; color:var(--cw-blue); margin:0 0 8px 0; }

/* Game field (drop area) */
.game-field{
  position:relative;
  height:60vh;
  min-height:360px;
  margin-top:1rem;

  /* increased padding so the playable area has breathing room */
  padding: 24px;
  display: flex;
  align-items: center;       /* center grid vertically */
  justify-content: center;   /* center grid horizontally */

  background: linear-gradient(180deg, rgba(46,157,247,0.04), rgba(46,157,247,0.01));
  border-radius:12px;
  overflow:hidden;
  border: 2px solid rgba(46,157,247,0.08);
}

/* Game grid: use auto-fit so columns adapt to viewport and small screens */
.game-grid {
  width: min(720px, 96%);
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  gap: clamp(8px, 1.6vw, 16px);
  margin: 6px auto;
}

/* Ensure water-can is touch-friendly and doesn't block touch actions */
.grid-cell .water-can {
  touch-action: manipulation;
  -webkit-tap-highlight-color: rgba(0,0,0,0.06);
  /* keep existing sizing rule (already defined elsewhere) */
}

/* medium screens (tablets / small laptops) -> 2 columns */
@media (max-width: 800px) {
  .game-grid {
    grid-template-columns: repeat(2, minmax(120px, 1fr));
  }
}

/* phones / very narrow screens -> 1 column */
@media (max-width: 420px) {
  .game-grid { grid-template-columns: repeat(2, minmax(96px, 1fr)); }
  .grid-cell { min-height: 92px; }
  .grid-cell .water-can { width: 44px; height: 44px; }
}

/* Make grid cells responsive in height and touch-friendly */
.grid-cell{
  position: relative;
  overflow: visible; /* allow wrappers to pop outside slightly */
  min-height: clamp(88px, 20vh, 160px);
  padding: 8px;
  border-radius: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  outline: 1px solid rgba(2,6,23,0.04);
  box-shadow: 0 4px 10px rgba(2,8,20,0.04);
  cursor:pointer;
  transition:background-color 0.3s;

  /* Make grid cells easier to tap: increase min-height and center content */
  min-height: 128px;
  padding: 6px;            /* breathing room */
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Ensure grid cells are positioned for absolute wrappers (already set, keep) */
.grid-cell { position: relative; overflow: hidden; }

/* Centered pop wrapper: start below the card and animate to exact center */
.grid-cell .water-can-wrapper{
  position: absolute;
  left: 50%;
  top: 50%;
  /* start off below the visible area and slightly scaled down */
  transform: translate(-50%, 110%) scale(0.75);
  transition: transform 220ms cubic-bezier(.2,.9,.2,1), opacity 160ms ease;
  pointer-events: none; /* clicks go to the .water-can */
  display: flex;
  align-items: center;
  justify-content: center;
  opacity: 0;
  z-index: 20;
}

/* When popped, center the can inside the card */
.grid-cell.pop .water-can-wrapper{
  transform: translate(-50%, -50%) scale(1);
  opacity: 1;
}

/* ensure the inline SVG jerry-can fills its container and keeps shape */
.grid-cell .water-can svg {
  width: 100%;
  height: 100%;
  display: block;
}

/* make the can look more like a jerry can (box with handle) — keep slight rounding */
.grid-cell .water-can {
  width: clamp(44px, 9vw, 64px);
  height: clamp(44px, 9vw, 64px);
  display: block;
  margin: 0 auto;
  pointer-events: auto;
  transform-origin: center;
  border-radius: 6px; /* subtle rounding */
  background-color: var(--cw-yellow);
  background-size: contain;
  background-repeat: no-repeat;
  background-position: center;
  box-shadow: 0 6px 14px rgba(7,45,60,0.12);
  border: 2px solid rgba(0,0,0,0.06);
  transition: transform 120ms ease, filter 140ms ease, opacity 120ms ease;
  z-index: 30;
  opacity: 1;

  /* Can visuals: smoother pop and subtle shadow boost when active */
  transition: transform 220ms cubic-bezier(.2,.9,.2,1), box-shadow 180ms ease, opacity 160ms ease;
  transform-origin: center;
  will-change: transform, opacity;
}
.grid-cell.pop .water-can {
  transform: translateY(-2px) scale(1.02);
  box-shadow: 0 10px 26px rgba(2,6,23,0.12);
}

/* Dirty / obstacle can: stronger visual treatment so players clearly avoid it */
.grid-cell .water-can.obstacle {
  /* increase prominence: slightly larger, red accent glow */
  transform: scale(1.03);
  box-shadow: 0 10px 28px rgba(245,64,44,0.18), 0 2px 10px rgba(0,0,0,0.06);
  border: 2px solid rgba(245,64,44,0.18);
  background-color: rgba(245,64,44,0.06); /* subtle tint behind image */
  transition: transform 180ms ease, box-shadow 200ms ease, filter 140ms ease;
  will-change: transform, box-shadow;
  animation: obstacle-pulse 1400ms ease-in-out infinite;
}

/* overlay exclamation / avoid icon to make dirty can obvious */
.grid-cell .water-can.obstacle::after {
  content: "";
  position: absolute;
  right: -4%;
  top: -6%;
  width: 42%;
  height: 42%;
  background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><circle cx='12' cy='12' r='12' fill='%23F5402C'/><path d='M12 6.5a.9.9 0 0 1 .9.9v5.6a.9.9 0 0 1-1.8 0V7.4c0-.5.4-.9.9-.9zm0 10.1a1.1 1.1 0 1 1 0-2.2 1.1 1.1 0 0 1 0 2.2z' fill='%23fff'/></svg>");
  background-repeat: no-repeat;
  background-size: contain;
  background-position: center;
  pointer-events: none;
  transform-origin: center;
  filter: drop-shadow(0 6px 10px rgba(245,64,44,0.12));
}

/* subtle breathing pulse so obstacles draw attention (not motion-heavy) */
@keyframes obstacle-pulse {
  0% { transform: scale(1.02); box-shadow: 0 8px 22px rgba(245,64,44,0.14); }
  50% { transform: scale(1.06); box-shadow: 0 14px 36px rgba(245,64,44,0.18); }
  100% { transform: scale(1.02); box-shadow: 0 8px 22px rgba(245,64,44,0.14); }
}

/* Shake animation used when player taps a dirty can (negative feedback) */
@keyframes can-shake {
  0% { transform: translateX(0) rotate(0); }
  25% { transform: translateX(-6px) rotate(-6deg); }
  50% { transform: translateX(6px) rotate(6deg); }
  75% { transform: translateX(-4px) rotate(-4deg); }
  100% { transform: translateX(0) rotate(0); }
}
.grid-cell .water-can.shake {
  animation: can-shake 380ms ease;
}

/* Visually emphasize an entire cell when the obstacle is present (subtle red overlay) */
.grid-cell.obstacle-present {
  box-shadow: inset 0 0 0 3px rgba(245,64,44,0.06);
  border-radius: 10px;
}

/* make obstacle accessible focus visible (keyboard users can notice) */
.grid-cell .water-can.obstacle:focus-visible {
  outline: 3px solid rgba(245,64,44,0.18);
  outline-offset: 3px;
}

/* Drops (falling items) */
.drop, .bad-drop{
  position:absolute; top:-60px;
  width:44px; height:60px; border-radius:50% 50% 45% 45%;
  background:var(--cw-blue);
  box-shadow: inset -6px -10px 20px rgba(255,255,255,0.12);
  display:flex; justify-content:center; align-items:center; cursor:pointer; user-select:none;
  animation-name:fall; animation-timing-function: linear;
}
.drop::after{
  content:''; position:absolute; width:10px; height:10px; border-radius:50%;
  background:rgba(255,255,255,0.7); right:10px; top:8px; transform:rotate(20deg);
}
.bad-drop{ background:var(--bad); box-shadow: inset -6px -10px 14px rgba(255,255,255,0.05); }
.drop.tap-effect, .bad-drop.tap-effect{ transform:scale(0.85); opacity:0.9; }

@keyframes fall{ to{ transform: translateY(120vh); } }

/* Small branding/attribution note */
.brand-note{ text-align:center; font-size:13px; color:#666; margin-bottom:8px; }

/* Achievement / status messages */
.achievement{
  text-align:center; margin:12px auto; min-height:28px; font-weight:600; color:var(--cw-dark-green);
  font-weight:700;
  color: var(--cw-blue);
  min-height: 28px;
  margin-top: 10px;

  /* Achievement/milestone badge styling */
  display:inline-block;
  background: rgba(46,157,247,0.06);
  color: var(--cw-blue);
  padding: 6px 10px;
  border-radius: 999px;
  font-weight:700;
  box-shadow: none;
  transition: transform 180ms ease, opacity 200ms ease;
}
.achievement.show {
  transform: translateY(-6px);
  opacity: 1;
}

/* Overlay / start + end screens */
.overlay{ position:fixed; inset:0; display:flex; align-items:center; justify-content:center; background:rgba(0,0,0,0.45); z-index:40; }
.overlay .panel, .overlay-content{ background:white; padding:20px 28px; border-radius:10px; text-align:center; min-width:280px; box-shadow:0 8px 30px rgba(0,0,0,0.18); }
.overlay h2, .overlay-content h2{ margin:0 0 8px; color:var(--cw-blue); }
.overlay .lead{ margin-bottom:8px; color:#333; }
.overlay .large{ background:var(--cw-blue); color:#fff; padding:10px 18px; border-radius:8px; border:none; cursor:pointer; }

/* overlay content padding so text/buttons have space */
.overlay .overlay-content, .overlay .panel {
  padding: 24px; /* increased padding */
}

/* overlay: make dialogs fit and scroll on small screens, improve focus visibility */
.overlay {
  padding: 18px;
  box-sizing: border-box;
}

/* overlay content sizing & scroll for small viewports */
.overlay .overlay-content {
  width: min(680px, 92%);
  max-width: 680px;
  max-height: calc(100vh - 120px);
  overflow: auto;
  -webkit-overflow-scrolling: touch;
}

/* when overlay shows on small screens, position near top so content is visible */
@media (max-width: 520px) {
  .overlay { align-items: flex-start; padding-top: 48px; }
  .overlay .overlay-content { max-height: calc(100vh - 96px); padding: 16px; }
  .overlay .overlay-content button.start-btn, .overlay .overlay-content .start-btn {
    width: 100%;
    padding: 12px 14px;
    font-size: 15px;
  }
}

/* HUD and touch targets: stack controls on narrow screens and enlarge buttons */
@media (max-width: 520px) {
  .hud { flex-direction: column; gap: 8px; align-items: stretch; }
  .hud > div { justify-content: center; }
  .start-btn, button {
    padding: 12px 14px;
    font-size: 15px;
    touch-action: manipulation;
  }
  .brand-strip { padding: 8px; gap: 10px; }
}

/* make grid cells slightly smaller on narrow screens to fit comfortably */
@media (max-width: 420px) {
  .game-field { padding: 12px; height: auto; min-height: 220px; }
  .grid-cell { min-height: 96px; }
  .grid-cell .water-can { width: 48px; height: 48px; }
}

/* clearer focus styles for interactive items */
:focus {
  outline: 3px solid var(--focus-ring);
  outline-offset: 3px;
}

/* Top page banner: centers and pads the image, provides subtle elevation */
.banner-wrapper {
  /* make the banner feel like a large hero while keeping it inside the card */
  padding: clamp(18px, 6vw, 48px);
  border-radius: 12px;
  box-shadow: 0 18px 46px rgba(2,6,23,0.06);
  background: linear-gradient(180deg, var(--cw-yellow) 0%, color-mix(in srgb, var(--cw-yellow) 85%, #fff 15%) 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
}

/* make the fallback hero layout more visually dominant */
.banner-hero {
  width: 100%;
  max-width: 720px;
  padding: 28px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 18px;
  text-align: center;
  background: transparent;
}

/* big stacked white title like reference */
.hero-title{
  margin:0;
  font-weight:900;
  color: #fff;
  font-size: clamp(28px, 9vw, 84px);
  line-height: 0.92;
  letter-spacing: -0.02em;
  text-transform: uppercase;
  text-shadow: 0 18px 30px rgba(2,6,23,0.12);
}

/* blue pill play button — larger, punchier to match hero */
.banner-play{
  appearance: none;
  -webkit-appearance: none;
  background: linear-gradient(180deg, var(--cw-blue) 0%, #0f86e3 100%);
  color: #fff;
  border: none;
  padding: 18px 56px;
  border-radius: 999px;
  font-weight: 900;
  font-size: clamp(16px, 2.8vw, 26px);
  cursor: pointer;
  box-shadow: 0 20px 56px rgba(46,157,247,0.22);
  transform: translateZ(0);
}

/* ensure banner-close sits above the hero and remains visible on the new hero */
.banner-close {
  position: absolute;
  right: 12px;
  top: 12px;
  z-index: 120;
  width: 44px;
  height: 44px;
  border-radius: 10px;
  border: none;
  background: rgba(255,255,255,0.95);
  box-shadow: 0 10px 26px rgba(2,6,23,0.08);
  font-size: 18px;
  line-height: 1;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
}

/* keep earlier .site-header spacing so hero and header don't collide */
.site-header { margin-top: 12px; }

/* jerry brand next to logo: styled to match the in-game clean can visuals */
.jerry-brand {
  width: 56px;
  height: 56px;
  display: inline-block;
  flex: 0 0 auto;
  border-radius: 8px;
  box-shadow: 0 10px 30px rgba(2,6,23,0.12);
  background: transparent;
  border: 2px solid rgba(0,0,0,0.06); /* match .water-can border */
  padding: 6px; /* give the SVG some breathing room inside the pill */
  background-repeat: no-repeat;
  background-size: contain;
  background-position: center;
  vertical-align: middle;
}

/* visible focus for accessibility (consistent with other focus styles) */
.jerry-brand:focus-visible {
  outline: 3px solid rgba(255,201,7,0.24);
  outline-offset: 4px;
  border-radius: 8px;
}

/* Tutorial details styling */
.tutorial {
  max-width: 820px;
  margin: 8px auto 0;
  padding: 10px 14px;
  border-radius: 10px;
  background: linear-gradient(180deg, rgba(46,157,247,0.03), rgba(46,157,247,0.01));
  border: 1px solid rgba(46,157,247,0.06);
  box-shadow: 0 6px 18px rgba(2,6,23,0.04);
  font-size: 15px;
}
.tutorial summary {
  font-weight: 700;
  cursor: pointer;
  list-style: none;
  outline: none;
}
.tutorial .tutorial-body { margin-top: 10px; }
.tutorial ul { margin: 6px 0 10px 18px; }
.tutorial .tutorial-note { font-size: 13px; color: #055b7a; font-weight:600; }

/* small screens: keep tutorial compact */
@media (max-width:520px) {
  .jerry-brand { width:44px; height:44px; margin-right:8px; }
  .tutorial { padding: 8px 10px; font-size:14px; }
}

/* smaller screens: scale down hero */
@media (max-width:640px){
  .hero-title { font-size: 28px; }
  /* scale the hero icon down on narrow viewports while keeping improved contrast */
  .hero-icon { width:84px; height:84px; border-radius:12px; }
  .banner-play { padding:12px 28px; font-size:16px; }
}

/* make the banner-play and logo slightly smaller on very narrow screens so layout doesn't break */
@media (max-width:520px){
  .banner-play { padding:10px 20px; }
  .logo { height:44px; }
  .container { margin: 14px; padding: 12px; }
  .game-field { padding: 12px; height: 48vh; min-height: 260px; }
}

/* logo SVG fallback rules: show inline SVG when the external image failed to load */
.logo-svg { display: none; }
.logo-broken .logo { display: none; }
.logo-broken .logo-svg { display: block; height:56px; width:auto; }

/* If JS detects missing water-can asset, it adds .use-inline-can to html/documentElement.
   This rule provides an embedded SVG fallback for .water-can background. */
.use-inline-can .water-can {
  /* embedded simple can illustration (colors use brand blue/yellow) */
  background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'><rect x='12' y='18' width='40' height='30' rx='6' fill='%232E9DF7'/><rect x='18' y='8' width='6' height='10' rx='2' fill='%23FFC907'/><circle cx='44' cy='12' r='6' fill='%23FFC907'/></svg>");
  background-size: cover;
  background-repeat: no-repeat;
  background-position: center;
}

/* show a black silhouette of the jerry-can image when applied */
.water-can.silhouette {
  /* make the image render as a solid black silhouette while preserving transparency */
  filter: brightness(0) saturate(100%) contrast(120%);
  transition: filter 140ms ease, transform 120ms ease, opacity 120ms ease;
}

/* subtle outline so you can see grid cells during testing */
.grid-cell { outline: none; }

/* confetti canvas overlay */
.confetti-canvas {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 60;
}

/* Respect user preference for reduced motion */
@media (prefers-reduced-motion: reduce) {
  .start-btn, .banner-play, button, .water-can, .grid-cell .water-can-wrapper,
  .achievement { transition: none !important; animation: none !important; }
  @keyframes score-bump { 0% { transform: none; } }
}

/* Responsive: ensure hero/play scales on small screens */
@media (max-width: 420px) {
  .banner-play { padding: 10px 22px; font-size: 15px; }
  .hero-title { font-size: 22px; }
  .grid-cell { min-height: 96px; }
}

/* score bump animation used by JS hook */
@keyframes score-bump {
  0% { transform: scale(1); }
  50% { transform: scale(1.08); }
  100% { transform: scale(1); }
}
.score.updated {
  animation: score-bump 360ms ease;
}

/* Leaderboard / winner form */
.leaderboard-form {
  display:flex;
  flex-direction:column;
  gap:8px;
  align-items:center;
  margin:12px 0 8px;
}
.leaderboard-form label {
  font-size:0.95rem;
  color:var(--cw-dark);
  font-weight:600;
}
.leaderboard-form input {
  width:100%;
  max-width:320px;
  padding:10px 12px;
  border-radius:8px;
  border:1px solid rgba(7,43,58,0.08);
  font-size:15px;
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.6);
}
.leaderboard-form .start-btn { padding:8px 18px; font-size:15px; }

/* Leaderboard section */
.leaderboard-section {
  margin-top:12px;
  text-align:left;
  max-width:420px;
}
.leaderboard-section h3{
  margin:0 0 8px; color:var(--cw-blue);
}
.leaderboard-list {
  list-style: decimal;
  margin:0;
  padding-left:1.1em;
  max-height:240px;
  overflow:auto;
}
.leaderboard-list li {
  padding:8px 6px;
  border-bottom:1px solid rgba(2,6,23,0.04);
  display:flex;
  justify-content:space-between;
  gap:12px;
}
.leaderboard-list li .name { font-weight:700; color:var(--cw-dark); }
.leaderboard-list li .score { color:var(--cw-blue); font-weight:800; }

/* Brand strip sits between the banner and the game; not part of the playable area. */
.brand-strip{
  display:flex;
  align-items:center;
  justify-content:center;
  gap:14px;
  padding: 10px 14px;
  margin: 0; /* sits flush at the top of the card */
  border-radius: 12px;
  background: linear-gradient(180deg, #ffffff, rgba(250,250,250,0.98));
  box-shadow: 0 10px 30px rgba(2,6,23,0.06);
  z-index: 50;
}

/* square mark: larger, higher contrast */
.brand-square {
  width: 56px;
  height: 56px;
  display:block;
  flex: 0 0 auto;
  border-radius: 8px;
  box-shadow: 0 8px 28px rgba(2,6,23,0.08);
}

/* horizontal wordmark: stronger, keeps proportion with square */
.brand-horizontal {
  width: min(380px, 56%);
  height: auto;
  display:block;
  flex: 0 1 auto;
  filter: none;
}

/* make sure brand strip doesn't overlap header content on small screens */
@media (max-width:520px){
  .brand-strip{ gap:10px; padding:8px; top:6px; }
  .brand-square{ width:44px; height:44px; }
  .brand-horizontal{ width: min(220px, 60%); }
}

/* larger, higher-contrast hero mark to match the attachment */
.hero-icon{
  width: 120px;
  height: 120px;
  border-radius: 18px;
  /* deep brand tone gradient for better contrast while keeping brand colors */
  background: linear-gradient(180deg, #072b3a 0%, #03262b 100%);
  display:flex;
  align-items:center;
  justify-content:center;
  box-shadow: 0 18px 40px rgba(2,6,23,0.18);
  transform: translateZ(0);
  border: 2px solid rgba(255,255,255,0.06);
}

/* larger drop SVG inside the icon so it remains crisp at the new size */
.hero-icon::after{
  content: "";
  width: 64px;
  height: 80px;
  background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><path fill='%23ffffff' d='M12 2s6 5.5 6 9a6 6 0 1 1-12 0c0-3.5 6-9 6-9z'/></svg>");
  background-size: contain;
  background-repeat: no-repeat;
  display:block;
  filter: drop-shadow(0 8px 18px rgba(2,6,23,0.16));
}

/* When a real banner image is available hide the fallback hero */
.banner-wrapper.banner-with-image .banner-fallback { display: none !important; }

/* When the image failed (banner-broken) hide the top-banner image and show fallback */
.banner-broken .top-banner { display: none !important; }

/* treat .hidden as a strong hide for JS-driven state */
.banner-wrapper.hidden { display: none !important; }

/* utility: strong hide used by JS for panels and banners */
.hidden { display: none !important; visibility: hidden !important; }