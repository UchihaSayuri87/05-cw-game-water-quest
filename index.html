<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width,initial-scale=1" />
	<title>Water Drop — Water Quest</title>
	<!-- Fonts: Montserrat primary, plus Poppins, Open Sans, Mulish, Lato fallbacks -->
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600;700;900&family=Poppins:wght@300;400;600;700&family=Open+Sans:wght@300;400;600;700&family=Mulish:wght@300;400;600;700&family=Lato:wght@300;400;700&display=swap" rel="stylesheet">
 	<link rel="stylesheet" href="styles.css" />
</head>
<body>
	<!-- container: centers page content and provides card visual -->
	<div class="container">

	<!-- Brand strip: moved to the top so branding stands out immediately -->
	<div class="brand-strip" aria-hidden="false">
		<img class="brand-square"
		     role="img"
		     tabindex="0"
		     alt="charity: water mark"
		     aria-label="charity: water mark"
		     src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='60' height='60' viewBox='0 0 60 60'><rect width='60' height='60' rx='6' fill='%23FFC907'/></svg>" />

		<img class="brand-horizontal"
		     role="img"
		     tabindex="0"
		     alt="Clarity Water wordmark"
		     aria-label="Clarity Water wordmark"
		     src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='360' height='60' viewBox='0 0 360 60'><rect x='6' y='6' width='48' height='48' rx='6' fill='%23FFC907'/><text x='68' y='38' font-family='Montserrat, Arial, sans-serif' font-size='22' fill='%2307243a' font-weight='700'>Clarity Water</text></svg>" />
	</div>

 	<!-- new top banner (uses img/banner.png). If it fails to load the inline onerror adds .banner-broken) -->
 	<div class="banner-wrapper">
 		<!-- inline SVG banner fallback to avoid 404 when img/banner.png is missing -->
 		<img id="topBanner"
 		     src="img/banner.png"
 		     alt="Water Quest banner"
 		     class="top-banner"
 		     loading="lazy"
 		     onerror="this.onerror=null; this.src='data:image/svg+xml;utf8,<svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;1200&quot; height=&quot;280&quot; viewBox=&quot;0 0 1200 280&quot;><rect width=&quot;1200&quot; height=&quot;280&quot; rx=&quot;12&quot; fill=%27%23FFC907%27/><text x=&quot;50%25&quot; y=&quot;55%25&quot; dominant-baseline=&quot;middle&quot; text-anchor=&quot;middle&quot; font-family=&quot;Arial,Helvetica,sans-serif&quot; font-size=&quot;56&quot; fill=%27%2307243a%27 font-weight=&quot;700&quot;>Water Quest</text></svg>'; document.documentElement.classList.add('banner-broken');" />

 		<!-- Hero fallback: original header placed inside the hero, plus icon/title/play -->
 		<div class="banner-fallback"><!-- removed aria-hidden="true" to avoid focus/aria-hidden conflict -->
 			<div class="banner-hero">
 				<header class="site-header">
 					<!-- inline SVG logo fallback to avoid 404 when img/logo.png is missing -->
 					<img id="logoImg"
 					     src="img/logo.png"
 					     alt="charity: water logo"
 					     class="logo"
 					     loading="lazy"
 					     onerror="this.onerror=null; this.src='data:image/svg+xml;utf8,<svg xmlns=&quot;http://www.w3.org/2000/svg&quot; viewBox=&quot;0 0 64 64&quot;><circle cx=&quot;32&quot; cy=&quot;32&quot; r=&quot;30&quot; fill=%27%23ffffff%27 opacity=&quot;0.02&quot;/><path d=&quot;M32 10c6 8 12 14 12 22 0 6.6-5.4 12-12 12s-12-5.4-12-12c0-8 6-14 12-22z&quot; fill=%27%232E9DF7%27/></svg>'; document.documentElement.classList.add('logo-broken');" />
+
+					<!-- jerry-can brand: uses attached image file img/jerry-can-brand.png (fallback to inline SVG) -->
+					<img id="jerryBrand"
+					     src="img/jerry-can-brand.png"
+					     alt="jerry can mark"
+					     class="jerry-brand"
+					     loading="lazy"
+					     role="img"
+					     aria-label="jerry can brand"
+					     onerror="this.onerror=null; this.src='data:image/svg+xml;utf8,<svg xmlns=&quot;http://www.w3.org/2000/svg&quot; viewBox=&quot;0 0 64 64&quot;><rect x=&quot;8&quot; y=&quot;12&quot; width=&quot;48&quot; height=&quot;40&quot; rx=&quot;4&quot; fill=%27%23FFC907%27/><path d=&quot;M20 10h8v6h-8zM40 10h6v6h-6zM24 18h16v28h-16z&quot; fill=%27000%27/></svg>'; document.documentElement.classList.add('jerry-broken');" />
 					<div class="title-block">
 						<h1>Water Drop</h1>
 						<p class="tagline">Tap clean drops, avoid dirty ones — save as many as you can!</p>
 					</div>
 				</header>

 				<div class="hero-icon" aria-hidden="true"></div>
 				<h2 class="hero-title">WATER<br/>QUEST</h2>
 				<button id="bannerPlay" class="banner-play">PLAY</button>
 			</div>
 		</div>
 	</div>

		<section class="hud">
			<div class="score">Score: <span id="score">0</span></div>
			<div class="timer">Time: <span id="time">30</span>s</div>

			<!-- added: reset button to restart immediately, difficulty selector, and tutorial button -->
			<div style="display:flex; gap:8px; align-items:center;">
				<button id="resetBtn" class="start-btn" title="Reset and restart">Reset</button>
				<label for="difficultySelect" style="font-weight:600; color:var(--cw-dark); font-size:0.95rem; margin-left:6px;">Difficulty</label>
				<select id="difficultySelect" aria-label="Select difficulty" style="padding:6px 8px; border-radius:8px; border:1px solid rgba(7,43,58,0.08); background:white;">
					<option value="easy">Easy</option>
					<option value="normal" selected>Normal</option>
					<option value="master">MasterQuest</option>
				</select>
				<button id="tutorialBtn" class="start-btn" title="How to play">How to play</button>
			</div>
		</section>

		<section id="gameField" class="game-field" aria-live="polite">
			<!-- whack-a-mole 3x3 grid -->
			<div class="game-grid" id="gameGrid" aria-hidden="false">
				<!-- make each cell keyboard-focusable so users can press Enter/Space -->
				<div class="grid-cell" data-index="0" tabindex="0"></div>
				<div class="grid-cell" data-index="1" tabindex="0"></div>
				<div class="grid-cell" data-index="2" tabindex="0"></div>
				<div class="grid-cell" data-index="3" tabindex="0"></div>
				<div class="grid-cell" data-index="4" tabindex="0"></div>
				<div class="grid-cell" data-index="5" tabindex="0"></div>
				<div class="grid-cell" data-index="6" tabindex="0"></div>
				<div class="grid-cell" data-index="7" tabindex="0"></div>
				<div class="grid-cell" data-index="8" tabindex="0"></div>
			</div>

			<div id="achievement" class="achievement" aria-live="polite"></div>

			<!-- progress bar: add ARIA role and numeric percent element -->
			<div id="goalProgress" class="progress" role="progressbar" aria-label="Progress toward goal" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0">
				<div id="progress-fill" class="progress-fill" style="width:0%"></div>
			</div>
			<div class="progress-text" aria-hidden="true"><span id="progressPercent">0%</span> toward goal</div>
		</section>
	</main>

	<div id="overlay" class="overlay hidden" role="dialog" aria-modal="true">
		<!-- End-game panel -->
		<div id="endPanel" class="overlay-content hidden" aria-hidden="true">
			<h2 id="resultTitle">Time's up!</h2>
			<p id="resultMessage"></p>
			<p class="final-score">Final score: <span id="finalScore">0</span></p>
			<button id="replayBtn" class="start-btn">Play again</button>
		</div>

		<!-- Tutorial panel (hidden by default) -->
		<div id="tutorialPanel" class="overlay-content hidden" aria-hidden="true">
			<h2>How to play</h2>
			<div class="tutorial-body">
				<p><strong>Goal:</strong> Tap the clean yellow jerry-cans to earn points. Reach 10 points to win.</p>
				<ul>
					<li>Each clean can tapped = +1 point.</li>
					<li>Dirty/obstacle cans deduct points (avoid them).</li>
					<li>You have 30 seconds — a countdown timer is shown in the HUD.</li>
					<li>Use the <em>Difficulty</em> selector to change spawn rate and challenge; use <em>Reset</em> to restart immediately.</li>
					<li>Keyboard: TAB to a cell and press Enter/Space to tap the can inside it.</li>
				</ul>
				<p class="tutorial-note">Tip: try Normal or MasterQuest for faster spawns once you get comfortable.</p>
				<button id="closeTutorialBtn" class="start-btn">Close</button>
			</div>
		</div>
 	</div>
	<!-- /container -->

	<script src="script.js"></script>
</body>
</html>
